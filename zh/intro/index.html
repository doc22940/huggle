<!doctype html>
<html lang="zh">
<head>
	<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <title>Hugo &#43; gulp.js = Huggle.</title>
  <link rel="canonical" href="http://ktmud.github.io/huggle/zh/intro">
<link rel="stylesheet" href="http://ktmud.github.io/huggle/static/vendor.css">
<link rel="stylesheet" href="http://ktmud.github.io/huggle/static/app.css">

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-1080811-19', 'ktmud.github.io');
    ga('send', 'pageview');
  </script>




</head>
<body>
  <header id="header" class="navbar navbar-default">
  <div class="container">
    <ul class="nav navbar-nav main-nav">
      <li>
      <a class="go-home" href="http://ktmud.github.io/huggle//zh">Home</a>
      </li>
    </ul>
    <ul class="nav navbar-nav navbar-right">
      <li>
      <a href="https://github.com/ktmud/huggle">
        <span class="icon-github"></span>
        Github
      </a>
      </li>
    </ul>
  </div>
</header>

  <div class="container">


<div class="row">
  <div class="col-md-3 col-md-push-9 aside">
    <div class="mod tip-box">
  
  <h5>
    
      本文还有其他语言版本：
    
    
  </h5>
  <ul class="meta-links">
    
      <li><a href="http://ktmud.github.io/huggle//intro/">English</a>
    
  </ul>
  
</div>

<div class="mod">
</div>

<div id="toc" class="mod">
  <nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#toc_0">这是什么？</a></li>
<li><a href="#toc_1">开始使用</a></li>
<li><a href="#toc_2">进阶</a>
<ul>
<li><a href="#toc_3">改善开发体验</a></li>
<li><a href="#toc_4">多语言支持</a></li>
</ul></li>
<li><a href="#toc_5">编辑模版</a>
<ul>
<li><a href="#toc_6">条件判断</a></li>
<li><a href="#toc_7">Context 和循环枚举</a></li>
<li><a href="#toc_8">时间格式化</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
</div>

  </div>
  <div class="col-md-9 col-md-pull-3">
    <div class="heading">
      <h1>Hugo &#43; gulp.js = Huggle.</h1>
      
        <p class="subtitle">速度极快的静态网站构建工具</p>
      
      <div class="meta">
        
  <ul class="list-inline">
    <li>
      <strong class="author">Jesse Yang</strong> 发表于
    </li>
    <li>
      <span class="icon-clock"></span>
      <time class="pubdate" datetime="2014-03-08 16:59:35 &#43;0800 CST">2014-03-08</time>
    </li>
    
      <li><a href="#disqus_thread"></a></li>
    
  </ul>



      </div>
    </div>
    <article class="readable">
      

<h2 id="toc_0">这是什么？</h2>

<p>Huggle 并非一个全新的工具，它只是整合 Hugo + gulp.js 两大工具的一个示范，
目标是帮助你<strong>更快速地构建静态网站</strong>，如个人博客、公司/项目主页、作品集网站等。</p>

<p><a href="http://hugo.spf13.com/">Hugo</a> 是用 Go 语言编写的静态页面生成工具，
与 <a href="http://jekyllrb.com/">jekyll</a> 等工具类似。Hugo 的最大特点就是快，构建一个包含 200+ 篇文章的博客，
只需要几秒钟。对于如何生成页面，它提供了大量既符合直觉又相当灵活的自定义选项，
但对喜欢自己编写网站模版样式的设计师和前端工程师来说，使用 Hugo 还有一点障碍 —— css/js 的打包工具仍需单独配置。</p>

<p>为了不让前端构建过程拖后腿， Huggle 将同样以快著称的 <a href="http://gulpjs.com/">gulp.js</a> 与 Hugo 结合在一起，
为你演示构建静态网站的速度极限。</p>

<h2 id="toc_1">开始使用</h2>

<p>要开始使用 Huggle ，仅需两步：</p>

<ol>
<li><a href="https://github.com/spf13/hugo/releases">下载Hugo</a></li>
<li><a href="https://github.com/ktmud/huggle">克隆本仓库</a>，使用 <code>make init</code> 初始化环境</li>
</ol>

<p>步骤一中下载到的符合你系统版本的可执行文件，需要添加到 $PATH 目录（<a href="http://hugo.spf13.com/overview/installing">详细</a>）。</p>

<p>安装完成，执行 <code>make watch</code> ，即可在开始在 <code>content/</code> 目录下编辑你的文章。</p>

<h2 id="toc_2">进阶</h2>

<h3 id="toc_3">改善开发体验</h3>

<p>Huggle 打包了大量流行的开发者福利：</p>

<ol>
<li>使用 <a href="https://chrome.google.com/webstore/detail/livereload/jnihajbhpnppcggbcgedagnkighmdlei">livereload</a>，
保存文件浏览器将自动刷新。得益于 Hugo 和 gulp.js 的极限速度，你甚至都还没来得及切换窗口，页面就已更新完毕。</li>
<li>使用 <a href="http://browserify.org/">browserfy</a> 和 <a href="https://github.com/substack/coffeeify">coffeeify</a> ，
你可以在 <code>./template/assets</code> 目录按照 nodejs 的 <code>require</code> 用法来书写浏览器脚本。</li>
<li><code>./template/assets/styles</code> 目录是样式文件的源代码，所有目录结构都可以在 <code>gulpfile.js</code> 里修改，
你也可以按照自己的习惯将 sass 换成习惯的 less 或 stylus ，只需安装相应的 <a href="http://gulpjs.com/plugins/">gulp 插件</a>即可。</li>
</ol>

<h3 id="toc_4">多语言支持</h3>

<p>通过添加一些自定义参数，以及按条理组织 Url ，你可以利用 Hugo 轻松搭建多语言网站：</p>

<ol>
<li>在 <code>config.yaml</code> 中设定你的默认语言</li>
<li>在 markdown 头部的 <a href="http://hugo.spf13.com/content/front-matter">front matter</a> 里添加 <code>lang: zh</code> 参数。标准语言代码可以参考<a href="http://www.w3schools.com/tags/ref_language_codes.asp">这里</a>。</li>
<li>为了将某一语言的文件都组织在同一目录下，指定文档网址： <code>slug: /zh/article-title-goes-here</code></li>

<li><p>指定此文章其他语言版本的链接：</p>

<pre><code class="yaml">otherlangs: [&quot;en&quot;]
otherurls: [&quot;/en/article-title&quot;]
</code></pre></li>
</ol>

<p>如本文<a href="https://raw.github.com/ktmud/huggle/master/content/intro.zh.md">源码所示</a>：</p>

<pre><code class="yaml">---
title: Hugo + gulp.js = Huggle.
subtitle: 速度极快的静态网站构建工具
date: 2014-03-04
slug: zh/intro/

lang: zh
otherlangs: [&quot;en&quot;]
otherurls: [&quot;/intro/&quot;]
---
</code></pre>

<h2 id="toc_5">编辑模版</h2>

<p>Hugo 使用 golang 的 <a href="http://golang.org/pkg/text/template/">text/template</a> ，语法极为简单。
你可以在 go 的官方文档或者 <a href="http://hugo.spf13.com/layout/go-templates">Hugo的文档</a> 里详细了解。</p>

<p>下面是一些官方文档里可能没有提及的东西：</p>

<ol>
<li>模版语句内的字符串实体必须用双引号</li>
<li>双括弧两边必须留有空格</li>
</ol>

<p>因此，对于语句：</p>

<pre><code class="gotmpl">{{ template &quot;chrome/includes.html&quot; . }}
</code></pre>

<p>双引号（<code>&quot;</code>）不能写作单引号，<code>.</code> 后面的空格也不能省略。</p>

<h3 id="toc_6">条件判断</h3>

<p>如果不等于：</p>

<pre><code class="gotmpl">{{ if ne .Url &quot;/&quot; }}
  &lt;a href=&quot;{{ .Site.BaseUrl }}&quot;&gt;Back Home&lt;/a&gt;
{{ end }}
</code></pre>

<p>或者</p>

<pre><code class="gotmpl">{{ if not (eq .Url &quot;/&quot;) }}
  &lt;a href=&quot;{{ .Site.BaseUrl }}&quot;&gt;Back Home&lt;/a&gt;
{{ end }}
</code></pre>

<p>两个条件：</p>

<pre><code class="gotmpl">{{ if or (ne .Url &quot;/&quot;) (ne .Url &quot;/en/&quot;) }}
  &lt;a href=&quot;{{ .Site.BaseUrl }}&quot;&gt;Back Home&lt;/a&gt;
{{ end }}
</code></pre>

<p>没有 <code>unless</code> ，但是可以 <code>if not</code> 。除了 <code>eq</code>, <code>ne</code>，还有还有 <code>lt</code>, <code>le</code>, <code>gt</code>, <code>ge</code>，
分别代表小于、小于等于、大于、大于等于。</p>

<h3 id="toc_7">Context 和循环枚举</h3>

<p>设 <code>.Params.tags</code> 为一个数组：<code>['标签1', '标签2']</code></p>

<pre><code class="gotmpl">{{ range .Params.tags }}
  &lt;a href=&quot;{{ $.Site.Params.baseurl }}tag/{{ . }}&quot;&gt;{{ . }}&lt;/a&gt;
{{ end }}
</code></pre>

<p>注意你可以使用 <code>{{ $.OuterValue }}</code> 获取一个 Context 外部的变量(<a href="http://stackoverflow.com/questions/14800204/in-a-template-how-do-you-access-an-outer-scope-while-inside-of-a-with-or-rang">via</a>)。</p>

<h3 id="toc_8">时间格式化</h3>

<p>使用类似于 <code>{{ .Date.Format &quot;Mon, 02 Jan 2006 15:04:05 MST&quot; }}</code> 来格式化时间。
注意，这些月份和时间的数字<a href="http://stackoverflow.com/questions/14106541/go-parsing-date-time-030strings-which-are-not-standard-formats">并非它看起来那么随意</a>。</p>

<p>可用数字一览表：</p>

<pre><code class="go">const (
    stdLongMonth      = &quot;January&quot;
    stdMonth          = &quot;Jan&quot;
    stdNumMonth       = &quot;1&quot;
    stdZeroMonth      = &quot;01&quot;
    stdLongWeekDay    = &quot;Monday&quot;
    stdWeekDay        = &quot;Mon&quot;
    stdDay            = &quot;2&quot;
    stdUnderDay       = &quot;_2&quot;
    stdZeroDay        = &quot;02&quot;
    stdHour           = &quot;15&quot;
    stdHour12         = &quot;3&quot;
    stdZeroHour12     = &quot;03&quot;
    stdMinute         = &quot;4&quot;
    stdZeroMinute     = &quot;04&quot;
    stdSecond         = &quot;5&quot;
    stdZeroSecond     = &quot;05&quot;
    stdLongYear       = &quot;2006&quot;
    stdYear           = &quot;06&quot;
    stdPM             = &quot;PM&quot;
    stdpm             = &quot;pm&quot;
    stdTZ             = &quot;MST&quot;
    stdISO8601TZ      = &quot;Z0700&quot;  // prints Z for UTC
    stdISO8601ColonTZ = &quot;Z07:00&quot; // prints Z for UTC
    stdNumTZ          = &quot;-0700&quot;  // always numeric
    stdNumShortTZ     = &quot;-07&quot;    // always numeric
    stdNumColonTZ     = &quot;-07:00&quot; // always numeric
)
</code></pre>

    </article>
    
<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'huggle';
  var disqus_identifier = 'http:\/\/ktmud.github.io\/huggle\/zh\/intro';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


    <footer id="footer">

  Copyright &copy; 2014 Jesse Yang.

&nbsp;Powered by <a href="https://github.com/ktmud/huggle">Huggle</a>
</footer>

<script src="http://ktmud.github.io/huggle/static/vendor.js"></script>
<script src="http://ktmud.github.io/huggle/static/app.js"></script>


<script type="text/javascript">
  var disqus_shortname = 'huggle';
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>


  </div>
</div>


  </div>
</body>
</html>

